<html>
  <head>
    <meta charset="UTF-8">
    <title>Support3 15m screener</title>
  </head>
<body>
</body>
 <script>
cryptoCoin = ["ETC","KEY","CFX","IMX","ELF","ACH","DEGO","AUTO","AVAX","GTC","BAR","ORN","MINA","CVC","NKN","XRP","STG","VOXEL","GHST","NEBL","UMA","LTO","CKB","TKO","QI","WBTC","SNM","LUNA","ZEN","SUSHI","LIT","WAXP","AGIX","ATM","BCH","GLMR","XVS","MULTI","UNFI","MOVR","MBOX","ANT","BAKE","COTI","KNC","RPL","IOST","UTK","XLM","SANTOS","ALPHA","POWR","ZEC","FORTH","POLS","DAR","TRB","RVN","AR","LUNC","GALA","REN","PROM","PERP","SRM","ICX","WIN","LEVER","1INCH","MDX","QTUM","REI","THETA","JUV","RUNE","ROSE","YGG","FIS","STPT","BNB","WRX","OP","TVK","ASTR","HOOK","HOT","HFT","GRT","DF","SUN","AXS","BICO","PHA","QNT","LOOM","ENJ","UNI","LINA","BEL","GLM","HIVE","MC","NMR","IOTX","MAGIC","CELO","ALCX","ALPINE","CVP","BTTC","BETH","BLZ","OOKI","UFT","AUDIO","SCRT","AMP","ZRX","KAVA","SFP","CREAM","CTSI","XEC","AERGO","SUPER","DENT","FLOW","SLP","HNT","BAL","LSK","CELR","STORJ","FIL","VITE","CHZ","IQ","STRAX","AKRO","FLUX","DODO","JOE","ONT","CTXC","ALGO","PROS","BSW","C98","AVA","SHIB","FOR","PYR","TORN","MLN","FET","ARPA","AMB","BTC","DYDX","FXS","VIDT","HBAR","ENS","DUSK","COCOS","BNX","PUNDIX","CTK","APT","MATIC","EGLD","VIB","MBL","PORTO","CVX","JASMY","LTC","LPT","CRV","DOT","POLYX","MTL","COS","CITY","INJ","ONE","BIFI","OCEAN","QUICK","ATOM","CLV","IOTA","ALPACA","WING","TRX","FARM","BURGER","FIDA","OSMO","ANKR","T","JST","GAL","RARE","SNX","ASR","YFI","STX","RNDR","QKC","AAVE","ALICE","MOB","PAXG","RAY","FIO","PHB","DOCK","DGB","MDT","MKR","KLAY","XMR","WAVES","OG","KSM","CAKE","RAD","OXT","XNO","TLM","PLA","WOO","TROY","REEF","ATA","XVG","ARK","LRC","KDA","ACM","DOGE","NEXO","SKL","CHESS","API3","APE","PEOPLE","EOS","MASK","IDEX","AUCTION","ACA","DREP","LINK","OMG","MANA","ILV","BNT","VET","SC","OGN","ADA","OM","ICP","SAND","GMX","BETA","SNT","ERN","SSV","DASH","GMT","BAT","STEEM","XTZ","GAS","HARD","LOKA","AGLD","BADGER","ZIL","LAZIO","PSG","DEXE","FTM","POND","DATA","MIR","LDO","BOND","SPELL","TOMO","RSR","KP3R","FRONT","SOL","NEO","SXP","TFUEL","FTT","STMX","NULS","NEAR","ANC","DIA","TWT","CHR","COMP","REQ","HIGH","EPX","FIRO","SYS","BAND"]

function scan(x){
  fetch("https://api.binance.com/api/v3/klines?symbol=" + x +'BUSD&interval=15m&limit=' + 1)
   .then(response => response.json())
   .then(result => {
    high = Number(result[0][2])
    low = Number(result[0][3])
    close = Number(result[0][3])
    pp = ((high + low + close) / 3)
    resistance = pp+(high-low)
    support = low-(2*(high-pp))
    support2 = pp-(resistance-support)
    resistance2 = (pp-support)+resistance
    support3 = pp-(resistance2 -support2)

    fetch("https://api.binance.com/api/v1/ticker/24hr?symbol=" + x + "BUSD")
    .then(response => response.json())
   .then(result => {
    now = Number(result.lastPrice)
    if (now < support3 && result.priceChangePercent < -1){
    window.open("https://www.tradingview.com/chart/?symbol=BINANCE%3A"+result.symbol+"&interval=15")
}
  })
 })
}

for (i = 0; i < cryptoCoin.length; i++) {
scan(cryptoCoin[i])
}

// column = ['open_time','open','high','low','close','volume','close_time','qav','num_trades','taker_base_vol','taker_quote','is_best_match']
    </script>
</html>
